# Scripting アプリ コマンドラインツール

Scripting アプリとの統合用に設計された `scripting-cli` コマンドラインツールへようこそ。このツールを使用すると、お気に入りのデスクトップエディター（例：VSCode）でスクリプトを開発しながら、リアルタイムで同期およびプレビューできます。

[English](./README.md) | [中文](./README_zh.md) | [Deutsch](./README_de.md) | [Français](./README_fr.md) | [Italiano](./README_it.md)

## 前提条件

`scripting-cli` を使用する前に、以下の要件を満たしていることを確認してください：

1. **Node.js**：最新バージョンの Node.js がインストールされていることを確認してください。現在のバージョンを確認するには、次のコマンドを実行します：

   ```bash
   node -v
   ```

2. **Scripting アプリ**：`scripting-cli` が起動するローカルサービスに接続するために、Scripting アプリをインストールする必要があります。

## インストール

`scripting-cli` をグローバルにインストールする必要はありません。`npx` を使用して実行するだけです：

```bash
npx scripting-cli <command>
```

## 使用方法

### 1. 作業ディレクトリの作成

まず、Scripting アプリのスクリプトを保存するディレクトリを作成します。例：

```bash
mkdir my-scripting-project
cd my-scripting-project
```

### 2. ローカルサービスの起動

作業ディレクトリで、次のコマンドを実行してローカル開発サービスを起動します：

```bash
npx scripting-cli start
```

デフォルトでは、サービスはポート `3000` で起動します。別のポートを指定するには、`--port` オプションを使用します：

```bash
npx scripting-cli start --port=4000
```

Bonjour サポートを有効にして、Scripting アプリがローカルサービスを自動的に検出できるようにするには、`--bonjour` フラグを追加します：

```bash
npx scripting-cli start --bonjour
```

### 3. Scripting アプリの接続

サービスが起動したら、**Scripting アプリ** を開き、先ほど起動したローカルサービスに接続します。これにより、アプリと作業ディレクトリ間の接続が確立されます。

### 4. コードのデバッグと同期

接続後、デバッグしたいスクリプトプロジェクトを選択します。Scripting アプリは、プロジェクトのコードを自動的に作業ディレクトリと同期します。

### 5. リアルタイムコード同期

デスクトップエディター（例：VSCode）でスクリプトを作成して保存すると、変更内容が自動的に Scripting アプリと同期され、リアルタイムで実行されます。これにより、開発とデバッグがスムーズになります。

## 例：ワークフロー

1. ローカルサービスを起動します：

   ```bash
   npx scripting-cli start
   ```

2. エディターを開いてスクリプトを作成します。

3. スクリプトファイルを保存します。

4. 更新されたコードが自動的に Scripting アプリと同期され、実行されます。

## 追加情報

* デフォルトのポートは `3000` です。既に使用されている場合は、`--port` オプションで別のポートを指定してください。
* `--no-auto-open` フラグを使用すると、`index.tsx` または `widget.tsx` ファイルが自動的に開かれるのを防げます：

  ```bash
  npx scripting-cli start --no-auto-open
  ```
* Bonjour サービスを使用するには、システムがその機能をサポートしていることを確認してください。Windows では、Bonjour を手動でインストールする必要がある場合があります。その後、`--bonjour` オプションを使用してサービスを有効にします。
* このツールは、VSCode などのデスクトップエディターを好み、Scripting アプリとのシームレスなコード同期とデバッグを望むユーザーに最適です。

## トラブルシューティング

問題が発生した場合は、以下を確認してください：

* Node.js バージョン 20 以上を使用していること。
* Scripting アプリがローカルサービスに正しく接続されていること。
* 選択したポートが他のプロセスによって使用されていないこと。
* 常に `npx scripting-cli <command>` を使用してツールを実行し、パッケージが最新であることを確認してください。

---

Scripting アプリの開発ワークフローで `scripting-cli` をご活用ください。楽しいコーディングを！